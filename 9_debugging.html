
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>9. Debugging and testing &#8212; Object oriented programming in Python for mathematicians 2021.0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/fenics.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/proof.js"></script>
    <script async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="10. Trees and directed acyclic graphs" href="10_trees_and_directed_acyclic_graphs.html" />
    <link rel="prev" title="8. Inheritance and composition" href="8_inheritance.html" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

<link rel="stylesheet" href="_static/featured.css">


<link rel="shortcut icon" href="_static/icon.ico" />


  </head><body>
<div class="wrapper">
  <a href="index.html"><img src="_static/banner.png" width="900px" alt="FInAT Project Banner" /></a>
  <div id="access">
    <div class="menu">
      <ul>
          <li class="page_item"><a href="https://github.com/object-oriented-python/object-oriented-programming" title="GitHub">GitHub</a></li>
      </ul>
    </div><!-- .menu -->
  </div><!-- #access -->
</div><!-- #wrapper -->


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="debugging-and-testing">
<span id="debugging"></span><h1><span class="section-number">9. </span>Debugging and testing<a class="headerlink" href="#debugging-and-testing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="using-a-debugger">
<h2><span class="section-number">9.1. </span>Using a debugger<a class="headerlink" href="#using-a-debugger" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="6_exceptions.html#term-traceback"><span class="xref std std-term">traceback</span></a> that the Python interpreter prints when it
encounters an untrapped exception provides a lot of information about
an exception which has occurred, but it’s not all the information
available, and it might not be enough to work out the cause of the
bug. The next tool in our forensic armoury is called a “debugger”
which is a software tool which attaches a Python command line to a
running or just terminated Python programme. This enables us to look
at or set variables in any of the <a class="reference internal" href="6_exceptions.html#term-stack-frame"><span class="xref std std-term">frames</span></a> on the
<a class="reference internal" href="6_exceptions.html#term-call-stack"><span class="xref std std-term">call stack</span></a>, or even type and run Python code. This is
exceptionally useful in determining the source of errors.</p>
<p>Python has an inbuilt debugger, <a class="reference external" href="https://docs.python.org/3/library/pdb.html#module-pdb" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code></a>, which is part of the
Python standard library. This is a highly capable debugger, however
its command line interface is essentially that of the default Python
shell, with all the limitations that brings. Just as <a class="reference external" href="https://ipython.readthedocs.io">IPython</a> provides a more powerful Python
command line including features such as colour syntax highlighting,
tab completion, and better-formatted tracebacks, <a class="reference external" href="https://github.com/gotcha/ipdb#ipython-pdb">ipdb</a> provides a somewhat
friendlier command line to the same set of debugger commands as
<a class="reference external" href="https://docs.python.org/3/library/pdb.html#module-pdb" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code></a>. We will therefore generally use <code class="xref py py-mod docutils literal notranslate"><span class="pre">ipdb</span></code>, but in the
few circumstances where only <a class="reference external" href="https://docs.python.org/3/library/pdb.html#module-pdb" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code></a> is available, its usage is
very similar. Finally, IDEs come with built-in support for debuggers.</p>
<div class="section" id="obtaining-ipdb">
<h3><span class="section-number">9.1.1. </span>Obtaining <code class="xref py py-mod docutils literal notranslate"><span class="pre">ipdb</span></code><a class="headerlink" href="#obtaining-ipdb" title="Permalink to this headline">¶</a></h3>
<p>Because <code class="xref py py-mod docutils literal notranslate"><span class="pre">ipdb</span></code> does not form a part of the standard library, you
may not always find it installed by default. However, it’s simply a
Python package so you can install it with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> python3 -m pip install ipdb
</pre></div>
</div>
</div>
<div class="section" id="postmortem-debugging">
<h3><span class="section-number">9.1.2. </span>Postmortem debugging<a class="headerlink" href="#postmortem-debugging" title="Permalink to this headline">¶</a></h3>
<p>Postmortem debugging means using a debugger after an exception has
occurred (i.e. after the program has “died”). The default behaviour of
Python on an untrapped exception is to print a <a class="reference internal" href="6_exceptions.html#term-traceback"><span class="xref std std-term">traceback</span></a> and
exit, in the case of a script, or continue with a new interactive
shell line in the case of an interactive shell. We, therefore, need to
take some positive action in order to have Python instead launch the
debugger on exception.</p>
</div>
<div class="section" id="invoking-the-debugger-on-a-running-program">
<h3><span class="section-number">9.1.3. </span>Invoking the debugger on a running program<a class="headerlink" href="#invoking-the-debugger-on-a-running-program" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="debugging-strategy">
<h2><span class="section-number">9.2. </span>Debugging strategy<a class="headerlink" href="#debugging-strategy" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creating-a-minimal-failing-example">
<span id="debugging-mfe"></span><h3><span class="section-number">9.2.1. </span>Creating a minimal failing example<a class="headerlink" href="#creating-a-minimal-failing-example" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="bisection-debugging">
<span id="id1"></span><h3><span class="section-number">9.2.2. </span>Bisection debugging<a class="headerlink" href="#bisection-debugging" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="testing-code">
<h2><span class="section-number">9.3. </span>Testing code<a class="headerlink" href="#testing-code" title="Permalink to this headline">¶</a></h2>
<p>However,
before we get there it’s essential to introduce the concept of testing
and its implementation.</p>
<p>At this stage, it’s informative to remind ourselves of the distinction
between logical truth in the mathematical sense, and experimentally
established knowledge in the scientific sense. A theorem is the
deductive consequence of its assumptions. So long as the logic is
valid, we can be assured that the theorem will be true in all
circumstances. Conversely, in science, there is no such absolute
certainty. A scientist states a hypothesis and then conducts
experiments which are designed in such a way that particular outcomes
would demonstrate that the hypothesis is false. If a suitably
exhaustive set of experiments is conducted then the scientists
confidence in the hypothesis</p>
</div>
<div class="section" id="glossary">
<h2><span class="section-number">9.4. </span>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="glossary simple">
<dt id="term-debugger">debugger</dt><dd><p>A piece of software which enables an interactive Python command
line to be attached to a running, or just terminated, Python
program. This enables the state of the program to be examined
to determine the cause of problems.</p>
</dd>
</dl>
</div></blockquote>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019-2021, David A. Ham.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>
  </body>
</html>